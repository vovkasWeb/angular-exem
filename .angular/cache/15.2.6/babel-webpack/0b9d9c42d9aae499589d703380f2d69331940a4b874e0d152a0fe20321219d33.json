{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../shared.service\";\n// API KEY - 4O7kxB74PxdUdOoK17f0pcqLZn4kJAmUDJrWYgbt\nexport class FifthComponent {\n  constructor(http, sharedService) {\n    this.http = http;\n    this.sharedService = sharedService;\n    this.currentIndex = 0;\n    this.day = 5;\n    this.photos = [];\n    this.urls = [];\n  }\n  ngOnInit() {\n    this.http.get(`https://api.nasa.gov/EPIC/api/natural/date/2019-05-30?api_key=${this.sharedService.key}`).subscribe(data => {\n      console.log(data);\n      let temp = JSON.stringify(data);\n      this.nasa = JSON.parse(temp);\n      this.loadPhotos();\n    });\n  }\n  loadPhotos() {\n    this.nasa.forEach(item => {\n      let year = parseInt(item.date.split('-')[0]);\n      let month = parseInt(item.date.split('-')[1]);\n      let day = parseInt(item.date.split('-')[2]);\n      const apiUrl = 'https://epic.gsfc.nasa.gov/archive/natural/' + year + '/0' + month + '/' + day + '/png/' + item.image + \".png\";\n      this.photos.push(apiUrl);\n    });\n  }\n  nextImage() {\n    this.currentIndex++;\n  }\n  lastImage() {\n    this.currentIndex--;\n  }\n}\nFifthComponent.ɵfac = function FifthComponent_Factory(t) {\n  return new (t || FifthComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.SharedService));\n};\nFifthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FifthComponent,\n  selectors: [[\"app-fifth\"]],\n  decls: 7,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"button-wrapper\"], [1, \"text\"], [\"alt\", \"My Image\", \"id\", \"photo\", 3, \"src\"]],\n  template: function FifthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\", 2);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"img\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.nasa[ctx.currentIndex].caption);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.nasa[ctx.currentIndex].date);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.photos[ctx.currentIndex], i0.ɵɵsanitizeUrl);\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.text[_ngcontent-%COMP%] {\\r\\n  margin-left: 5px;\\r\\n  margin-right: 5px;\\r\\n}\\r\\n\\r\\n#photo[_ngcontent-%COMP%] {\\r\\n  display: inline-block;\\r\\n  height: auto;\\r\\n  margin: 0 auto;\\r\\n  height: 450px;\\r\\n  width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlmdGgvZmlmdGguY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsWUFBWTtFQUNaLGNBQWM7RUFDZCxhQUFhO0VBQ2IsV0FBVztBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4udGV4dCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICBtYXJnaW4tcmlnaHQ6IDVweDtcclxufVxyXG5cclxuI3Bob3RvIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIGhlaWdodDogNDUwcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;AAGA;AAOA,OAAM,MAAOA,cAAc;EAOzBC,YAAoBC,IAAgB,EAAUC,aAA4B;IAAtD,SAAI,GAAJD,IAAI;IAAsB,kBAAa,GAAbC,aAAa;IALpD,iBAAY,GAAW,CAAC;IAExB,QAAG,GAAW,CAAC;IACf,WAAM,GAAa,EAAE;IAG1B,IAAI,CAACC,IAAI,GAAG,EAAE;EAChB;EACAC,QAAQ;IACN,IAAI,CAACH,IAAI,CAACI,GAAG,CAAC,iEAAiE,IAAI,CAACH,aAAa,CAACI,GAAG,EAAE,CAAC,CACrGC,SAAS,CAACC,IAAI,IAAG;MAChBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAIG,IAAI,GAAWC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;MACvC,IAAI,CAACM,IAAI,GAAGF,IAAI,CAACG,KAAK,CAACJ,IAAI,CAAC;MAC5B,IAAI,CAACK,UAAU,EAAE;IACnB,CAAC,CAAC;EACN;EACAA,UAAU;IACR,IAAI,CAACF,IAAI,CAACG,OAAO,CAAEC,IAAI,IAAI;MACzB,IAAIC,IAAI,GAAWC,QAAQ,CAACF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACpD,IAAIC,KAAK,GAAWH,QAAQ,CAACF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACrD,IAAIE,GAAG,GAAWJ,QAAQ,CAACF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACnD,MAAMG,MAAM,GAAG,6CAA6C,GAAGN,IAAI,GAAG,IAAI,GAAGI,KAAK,GAAG,GAAG,GAAGC,GAAG,GAAG,OAAO,GAAGN,IAAI,CAACQ,KAAK,GAAG,MAAM;MAE9H,IAAI,CAACC,MAAM,CAACC,IAAI,CAACH,MAAM,CAAC;IAE1B,CAAC,CAAC;EACJ;EAEOI,SAAS;IACd,IAAI,CAACC,YAAY,EAAE;EACrB;EACOC,SAAS;IACd,IAAI,CAACD,YAAY,EAAE;EACrB;;AApCW/B,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAiC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BC,8BAAuB;MAEHA,YAAgC;MAAAA,iBAAI;MACpDA,4BAAgB;MAAAA,YAA6B;MAAAA,iBAAI;MAEjDA,yBAA8D;MAChEA,iBAAM;;;MAJYA,eAAgC;MAAhCA,wDAAgC;MAChCA,eAA6B;MAA7BA,qDAA6B;MAExCA,eAA4B;MAA5BA,oEAA4B","names":["FifthComponent","constructor","http","sharedService","urls","ngOnInit","get","key","subscribe","data","console","log","temp","JSON","stringify","nasa","parse","loadPhotos","forEach","item","year","parseInt","date","split","month","day","apiUrl","image","photos","push","nextImage","currentIndex","lastImage","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\VovkasWeb\\angular-session\\src\\app\\fifth\\fifth.component.ts","C:\\Users\\VovkasWeb\\angular-session\\src\\app\\fifth\\fifth.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SharedService } from '../shared.service';\r\n// API KEY - 4O7kxB74PxdUdOoK17f0pcqLZn4kJAmUDJrWYgbt\r\n\r\n@Component({\r\n  selector: 'app-fifth',\r\n  templateUrl: './fifth.component.html',\r\n  styleUrls: ['./fifth.component.css']\r\n})\r\nexport class FifthComponent {\r\n  public nasa!: MyObject[];\r\n  public currentIndex: number = 0;\r\n  public urls!: string[];\r\n  public day: number = 5;\r\n  public photos: string[] = [];\r\n\r\n  constructor(private http: HttpClient, private sharedService: SharedService) {\r\n    this.urls = [];\r\n  }\r\n  ngOnInit() {\r\n    this.http.get(`https://api.nasa.gov/EPIC/api/natural/date/2019-05-30?api_key=${this.sharedService.key}`)\r\n      .subscribe(data => {\r\n        console.log(data)\r\n        let temp: string = JSON.stringify(data);\r\n        this.nasa = JSON.parse(temp);\r\n        this.loadPhotos();\r\n      });\r\n  }\r\n  loadPhotos() {\r\n    this.nasa.forEach((item) => {\r\n      let year: number = parseInt(item.date.split('-')[0]);\r\n      let month: number = parseInt(item.date.split('-')[1]);\r\n      let day: number = parseInt(item.date.split('-')[2]);\r\n      const apiUrl = 'https://epic.gsfc.nasa.gov/archive/natural/' + year + '/0' + month + '/' + day + '/png/' + item.image + \".png\";\r\n\r\n      this.photos.push(apiUrl);\r\n\r\n    });\r\n  }\r\n\r\n  public nextImage() {\r\n    this.currentIndex++;\r\n  }\r\n  public lastImage() {\r\n    this.currentIndex--;\r\n  }\r\n}\r\n\r\ninterface MyObject {\r\n  attitude_quaternions: {\r\n    q0: number;\r\n    q1: number;\r\n    q2: number;\r\n    q3: number;\r\n  };\r\n  caption: string;\r\n  centroid_coordinates: {\r\n    lat: number;\r\n    lon: number;\r\n  };\r\n  coords: {\r\n    attitude_quaternions: {\r\n      q0: number;\r\n      q1: number;\r\n      q2: number;\r\n      q3: number;\r\n    };\r\n    centroid_coordinates: {\r\n      lat: number;\r\n      lon: number;\r\n    };\r\n    dscovr_j2000_position: {\r\n      x: number;\r\n      y: number;\r\n      z: number;\r\n    };\r\n    lunar_j2000_position: {\r\n      x: number;\r\n      y: number;\r\n      z: number;\r\n    };\r\n    sun_j2000_position: {\r\n      x: number;\r\n      y: number;\r\n      z: number;\r\n    };\r\n  };\r\n  date: string;\r\n  dscovr_j2000_position: {\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n  };\r\n  identifier: string;\r\n  image: string;\r\n  lunar_j2000_position: {\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n  };\r\n  sun_j2000_position: {\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n  };\r\n  version: string;\r\n}\r\n\r\ninterface Photo {\r\n  url: string;\r\n}","<div class=\"container\">\r\n  <div class=\"button-wrapper\">\r\n    <p class=\"text\">{{ nasa[currentIndex].caption }}</p>\r\n    <p class=\"text\">{{ nasa[currentIndex].date }}</p>\r\n\r\n    <img [src]=\"photos[currentIndex]\" alt=\"My Image\" id=\"photo\" />\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}