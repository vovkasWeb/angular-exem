{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../shared.service\";\nimport * as i3 from \"@angular/common\";\nfunction FirstComponent_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelement(1, \"img\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const url_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", url_r1, i0.ɵɵsanitizeUrl);\n  }\n}\n// API KEY - 4O7kxB74PxdUdOoK17f0pcqLZn4kJAmUDJrWYgbt\nexport class FirstComponent {\n  constructor(http, sharedService) {\n    this.http = http;\n    this.sharedService = sharedService;\n    this.currentIndex = 0;\n    this.componentOpened = false;\n    this.urls = [];\n  }\n  ngOnInit() {\n    this.http.get(`https://api.nasa.gov/planetary/apod?api_key=${this.sharedService.key}&count=100`).subscribe(data => {\n      let temp = JSON.stringify(data);\n      this.nasa = JSON.parse(temp);\n    });\n  }\n  nextImage() {\n    this.urls = [];\n    if (this.currentIndex < this.nasa.length - 1) {\n      this.currentIndex++;\n    } else {\n      this.currentIndex = 0;\n    }\n  }\n  lastImage() {\n    this.urls = [];\n    if (this.currentIndex > 0) {\n      this.currentIndex--;\n    } else {\n      this.currentIndex = this.nasa.length;\n    }\n  }\n  showCopyright() {\n    this.urls = [];\n    this.nasa.forEach(element => {\n      if (element.copyright == this.nasa[this.currentIndex].copyright) {\n        this.urls.push(element.hdurl);\n      }\n    });\n  }\n}\nFirstComponent.ɵfac = function FirstComponent_Factory(t) {\n  return new (t || FirstComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.SharedService));\n};\nFirstComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FirstComponent,\n  selectors: [[\"app-first\"]],\n  decls: 12,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"button-wrapper\"], [1, \"text\", 3, \"click\"], [1, \"text\"], [\"alt\", \"My Image\", \"id\", \"photo\", 3, \"src\"], [1, \"button\", \"button-left\", 3, \"click\"], [1, \"button\", \"button-right\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"src\"]],\n  template: function FirstComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p\", 2);\n      i0.ɵɵlistener(\"click\", function FirstComponent_Template_p_click_2_listener() {\n        return ctx.showCopyright();\n      });\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\", 3);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"img\", 4);\n      i0.ɵɵelementStart(7, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function FirstComponent_Template_button_click_7_listener() {\n        return ctx.lastImage();\n      });\n      i0.ɵɵtext(8, \"\\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0438\\u0435\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function FirstComponent_Template_button_click_9_listener() {\n        return ctx.nextImage();\n      });\n      i0.ɵɵtext(10, \"\\u0441\\u043B\\u0435\\u0434\\u0443\\u0449\\u0438\\u0435\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(11, FirstComponent_p_11_Template, 2, 1, \"p\", 7);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.nasa[ctx.currentIndex].copyright, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.nasa[ctx.currentIndex].date);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.nasa[ctx.currentIndex].hdurl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.urls);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.text[_ngcontent-%COMP%] {\\r\\n  margin-left: 5px;\\r\\n  margin-right: 5px;\\r\\n}\\r\\n\\r\\n.button-wrapper[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.button[_ngcontent-%COMP%] {\\r\\n  padding: 10px;\\r\\n  border-radius: 5px;\\r\\n  border: none;\\r\\n  color: #fff;\\r\\n  font-weight: bold;\\r\\n  height: 700px;\\r\\n  width: 35px;\\r\\n  display: inline-block;\\r\\n\\r\\n  background-color: #ff00bb;\\r\\n}\\r\\n\\r\\n.button-left[_ngcontent-%COMP%] {\\r\\n  float: left;\\r\\n  height: auto;\\r\\n  width: 100px;\\r\\n}\\r\\n\\r\\n.button-right[_ngcontent-%COMP%] {\\r\\n  float: right;\\r\\n  height: auto;\\r\\n  width: 100px;\\r\\n}\\r\\n\\r\\n#photo[_ngcontent-%COMP%] {\\r\\n  display: inline-block;\\r\\n  width: auto;\\r\\n  height: auto;\\r\\n  margin: 0 auto;\\r\\n  max-width: 80%;\\r\\n  max-height: 500px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlyc3QvZmlyc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osV0FBVztFQUNYLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsV0FBVztFQUNYLHFCQUFxQjs7RUFFckIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0VBQ1osWUFBWTtFQUNaLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGNBQWM7RUFDZCxjQUFjO0VBQ2QsaUJBQWlCO0FBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4udGV4dCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICBtYXJnaW4tcmlnaHQ6IDVweDtcclxufVxyXG5cclxuLmJ1dHRvbi13cmFwcGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5idXR0b24ge1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBoZWlnaHQ6IDcwMHB4O1xyXG4gIHdpZHRoOiAzNXB4O1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuXHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDBiYjtcclxufVxyXG5cclxuLmJ1dHRvbi1sZWZ0IHtcclxuICBmbG9hdDogbGVmdDtcclxuICBoZWlnaHQ6IGF1dG87XHJcbiAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4uYnV0dG9uLXJpZ2h0IHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuI3Bob3RvIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIG1heC13aWR0aDogODAlO1xyXG4gIG1heC1oZWlnaHQ6IDUwMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport class Nasa {\n  constructor(c, d, ex, hdr, media, serv, title, url) {\n    this.copyright = c;\n    this.date = d;\n    this.explanation = ex;\n    this.hdurl = hdr;\n    this.media_type = media;\n    this.service_version = serv;\n    this.title = title;\n    this.url = url;\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","FirstComponent","constructor","http","sharedService","urls","ngOnInit","get","key","subscribe","data","temp","JSON","stringify","nasa","parse","nextImage","currentIndex","length","lastImage","showCopyright","forEach","element","copyright","push","hdurl","selectors","decls","vars","consts","template","ctx","Nasa","c","d","ex","hdr","media","serv","title","url","date","explanation","media_type","service_version"],"sourceRoot":"","sources":["C:\\Users\\VovkasWeb\\angular-session\\src\\app\\first\\first.component.html","C:\\Users\\VovkasWeb\\angular-session\\src\\app\\first\\first.component.ts"],"sourcesContent":["<div class=\"container\">\r\n  <div class=\"button-wrapper\">\r\n    <p class=\"text\" (click)=\"showCopyright()\">\r\n      {{ nasa[currentIndex].copyright }}\r\n    </p>\r\n    <p class=\"text\">{{ nasa[currentIndex].date }}</p>\r\n    <img [src]=\"nasa[currentIndex].hdurl\" alt=\"My Image\" id=\"photo\" />\r\n    <button class=\"button button-left\" (click)=\"lastImage()\">предыдущие</button>\r\n    <button class=\"button button-right\" (click)=\"nextImage()\">следущие</button>\r\n  </div>\r\n</div>\r\n<p *ngFor=\"let url of urls\"><img [src]=\"url\" /></p>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SharedService } from '../shared.service';\r\n// API KEY - 4O7kxB74PxdUdOoK17f0pcqLZn4kJAmUDJrWYgbt\r\n@Component({\r\n  selector: 'app-first',\r\n  templateUrl: './first.component.html',\r\n  styleUrls: ['./first.component.css']\r\n})\r\nexport class FirstComponent {\r\n  public nasa!: Nasa[];\r\n  public currentIndex: number = 0;\r\n  public urls!: string[];\r\n  public componentOpened: boolean = false;\r\n\r\n  constructor(private http: HttpClient, private sharedService: SharedService) {\r\n    this.urls = [];\r\n  }\r\n  ngOnInit() {\r\n    this.http.get(`https://api.nasa.gov/planetary/apod?api_key=${this.sharedService.key}&count=100`)\r\n      .subscribe(data => {\r\n        let temp: string = JSON.stringify(data);\r\n        this.nasa = JSON.parse(temp);\r\n      });\r\n\r\n  }\r\n\r\n  public nextImage() {\r\n    this.urls = [];\r\n\r\n    if (this.currentIndex < this.nasa.length - 1) {\r\n      this.currentIndex++;\r\n    } else {\r\n      this.currentIndex = 0;\r\n    }\r\n\r\n  }\r\n  public lastImage() {\r\n    this.urls = [];\r\n\r\n    if (this.currentIndex > 0) {\r\n      this.currentIndex--;\r\n    } else {\r\n      this.currentIndex = this.nasa.length;\r\n    }\r\n  }\r\n  public showCopyright() {\r\n    this.urls = [];\r\n    this.nasa.forEach(element => {\r\n      if (element.copyright == this.nasa[this.currentIndex].copyright) {\r\n        this.urls.push(element.hdurl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport class Nasa {\r\n  public copyright: string;\r\n  public date: string;\r\n  public explanation: string;\r\n  public hdurl: string;\r\n  public media_type: string;\r\n  public service_version: string;\r\n  public title: string;\r\n  public url: string;\r\n\r\n  constructor(c: string, d: string, ex: string, hdr: string, media: string, serv: string, title: string, url: string) {\r\n    this.copyright = c;\r\n    this.date = d;\r\n    this.explanation = ex;\r\n    this.hdurl = hdr;\r\n    this.media_type = media;\r\n    this.service_version = serv;\r\n    this.title = title;\r\n    this.url = url;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}