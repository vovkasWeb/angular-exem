{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../shared.service\";\n// API KEY - 4O7kxB74PxdUdOoK17f0pcqLZn4kJAmUDJrWYgbt\nexport class FourthComponent {\n  constructor(http, sharedService) {\n    this.http = http;\n    this.sharedService = sharedService;\n    this.currentIndex = 0;\n    this.day = 6;\n    this.urls = [];\n  }\n  ngOnInit() {\n    this.http.get(`https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-${this.day}-3&api_key=${this.sharedService.key}`).subscribe(data => {\n      let temp = JSON.stringify(data);\n      this.container = JSON.parse(temp);\n      console.log(this.container);\n    });\n  }\n  nextImage() {\n    if (this.currentIndex < this.container.photos.length - 1) {\n      this.currentIndex++;\n    } else {\n      this.currentIndex = 0;\n    }\n  }\n  lastImage() {\n    if (this.currentIndex > 0) {\n      this.currentIndex--;\n    } else {\n      this.currentIndex = this.container.photos.length - 1;\n    }\n  }\n}\nFourthComponent.ɵfac = function FourthComponent_Factory(t) {\n  return new (t || FourthComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.SharedService));\n};\nFourthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FourthComponent,\n  selectors: [[\"app-fourth\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"button-wrapper\"], [1, \"text\"], [\"alt\", \"My Image\", \"id\", \"photo\", 3, \"src\"], [1, \"button\", \"button-left\", 3, \"click\"], [1, \"button\", \"button-right\", 3, \"click\"]],\n  template: function FourthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"img\", 3);\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function FourthComponent_Template_button_click_5_listener() {\n        return ctx.lastImage();\n      });\n      i0.ɵɵtext(6, \"\\u043F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0438\\u0435\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function FourthComponent_Template_button_click_7_listener() {\n        return ctx.nextImage();\n      });\n      i0.ɵɵtext(8, \"\\u0441\\u043B\\u0435\\u0434\\u0443\\u0449\\u0438\\u0435\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.container.photos[ctx.currentIndex].earth_date);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.container.photos[ctx.currentIndex].img_src, i0.ɵɵsanitizeUrl);\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.text[_ngcontent-%COMP%] {\\r\\n  margin-left: 35px;\\r\\n  margin-right: 35px;\\r\\n}\\r\\n\\r\\n.button-wrapper[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.button[_ngcontent-%COMP%] {\\r\\n  padding: 10px;\\r\\n  border-radius: 5px;\\r\\n  border: none;\\r\\n  color: #fff;\\r\\n  font-weight: bold;\\r\\n  height: 700px;\\r\\n  width: 35px;\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.button-left[_ngcontent-%COMP%] {\\r\\n  float: left;\\r\\n  height: auto;\\r\\n  width: 100px;\\r\\n  background-color: #007bff;\\r\\n}\\r\\n\\r\\n.button-left[_ngcontent-%COMP%]:hover {\\r\\n  float: left;\\r\\n  height: auto;\\r\\n  width: 100px;\\r\\n  background-color: #0959ad;\\r\\n}\\r\\n\\r\\n.button-right[_ngcontent-%COMP%] {\\r\\n  float: right;\\r\\n  height: auto;\\r\\n  width: 100px;\\r\\n  background-color: #dc3545;\\r\\n}\\r\\n\\r\\n.button-right[_ngcontent-%COMP%]:hover {\\r\\n  float: right;\\r\\n  height: auto;\\r\\n  width: 100px;\\r\\n  background-color: #992632;\\r\\n}\\r\\n\\r\\n#photo[_ngcontent-%COMP%] {\\r\\n  display: inline-block;\\r\\n  width: auto;\\r\\n  height: auto;\\r\\n  margin: 0 auto;\\r\\n  max-width: 80%;\\r\\n  max-height: 600px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZm91cnRoL2ZvdXJ0aC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixXQUFXO0VBQ1gscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLFlBQVk7RUFDWixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLFlBQVk7RUFDWixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLFdBQVc7RUFDWCxZQUFZO0VBQ1osY0FBYztFQUNkLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi50ZXh0IHtcclxuICBtYXJnaW4tbGVmdDogMzVweDtcclxuICBtYXJnaW4tcmlnaHQ6IDM1cHg7XHJcbn1cclxuXHJcbi5idXR0b24td3JhcHBlciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uYnV0dG9uIHtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgaGVpZ2h0OiA3MDBweDtcclxuICB3aWR0aDogMzVweDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi5idXR0b24tbGVmdCB7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiAxMDBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG59XHJcblxyXG4uYnV0dG9uLWxlZnQ6aG92ZXIge1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIGhlaWdodDogYXV0bztcclxuICB3aWR0aDogMTAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzA5NTlhZDtcclxufVxyXG5cclxuLmJ1dHRvbi1yaWdodCB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGhlaWdodDogYXV0bztcclxuICB3aWR0aDogMTAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RjMzU0NTtcclxufVxyXG5cclxuLmJ1dHRvbi1yaWdodDpob3ZlciB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGhlaWdodDogYXV0bztcclxuICB3aWR0aDogMTAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk5MjYzMjtcclxufVxyXG5cclxuI3Bob3RvIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIG1heC13aWR0aDogODAlO1xyXG4gIG1heC1oZWlnaHQ6IDYwMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport class Container {\n  constructor(nas) {\n    this.photos = nas;\n  }\n}","map":{"version":3,"mappings":";;;AAGA;AAOA,OAAM,MAAOA,eAAe;EAM1BC,YAAoBC,IAAgB,EAAUC,aAA4B;IAAtD,SAAI,GAAJD,IAAI;IAAsB,kBAAa,GAAbC,aAAa;IALpD,iBAAY,GAAW,CAAC;IAGxB,QAAG,GAAW,CAAC;IAGpB,IAAI,CAACC,IAAI,GAAG,EAAE;EAChB;EAEAC,QAAQ;IACN,IAAI,CAACH,IAAI,CACNI,GAAG,CACF,mFAAmF,IAAI,CAACC,GAAG,cAAc,IAAI,CAACJ,aAAa,CAACK,GAAG,EAAE,CAClI,CACAC,SAAS,CAAEC,IAAI,IAAI;MAClB,IAAIC,IAAI,GAAWC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;MACvC,IAAI,CAACI,SAAS,GAAGF,IAAI,CAACG,KAAK,CAACJ,IAAI,CAAC;MACjCK,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,SAAS,CAAC;IAC7B,CAAC,CAAC;EACN;EAEOI,SAAS;IACd,IAAI,IAAI,CAACC,YAAY,GAAG,IAAI,CAACL,SAAS,CAACM,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;MACxD,IAAI,CAACF,YAAY,EAAE;KACpB,MAAM;MACL,IAAI,CAACA,YAAY,GAAG,CAAC;;EAEzB;EAEOG,SAAS;IACd,IAAI,IAAI,CAACH,YAAY,GAAG,CAAC,EAAE;MACzB,IAAI,CAACA,YAAY,EAAE;KACpB,MAAM;MACL,IAAI,CAACA,YAAY,GAAG,IAAI,CAACL,SAAS,CAACM,MAAM,CAACC,MAAM,GAAG,CAAC;;EAExD;;AApCWrB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV5BC,8BAAuB;MAEHA,YAA+C;MAAAA,iBAAI;MACnEA,yBAIE;MACFA,iCAAyD;MAAtBA;QAAA,OAASC,eAAW;MAAA,EAAC;MAACD,4EAAU;MAAAA,iBAAS;MAC5EA,iCAA0D;MAAtBA;QAAA,OAASC,eAAW;MAAA,EAAC;MAACD,gEAAQ;MAAAA,iBAAS;;;MAP3DA,eAA+C;MAA/CA,uEAA+C;MAE7DA,eAA8C;MAA9CA,sFAA8C;;;;;ADgEpD,OAAM,MAAOE,SAAS;EAEpB7B,YAAY8B,GAAgB;IAC1B,IAAI,CAACX,MAAM,GAAGW,GAAG;EACnB","names":["FourthComponent","constructor","http","sharedService","urls","ngOnInit","get","day","key","subscribe","data","temp","JSON","stringify","container","parse","console","log","nextImage","currentIndex","photos","length","lastImage","selectors","decls","vars","consts","template","i0","ctx","Container","nas"],"sourceRoot":"","sources":["C:\\Users\\VovkasWeb\\angular-session\\src\\app\\fourth\\fourth.component.ts","C:\\Users\\VovkasWeb\\angular-session\\src\\app\\fourth\\fourth.component.html"],"sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { SharedService } from \"../shared.service\";\r\n// API KEY - 4O7kxB74PxdUdOoK17f0pcqLZn4kJAmUDJrWYgbt\r\n\r\n@Component({\r\n  selector: \"app-fourth\",\r\n  templateUrl: \"./fourth.component.html\",\r\n  styleUrls: [\"./fourth.component.css\"],\r\n})\r\nexport class FourthComponent {\r\n  public currentIndex: number = 0;\r\n\r\n  public urls!: string[];\r\n  public day: number = 6;\r\n  public container!: Container;\r\n  constructor(private http: HttpClient, private sharedService: SharedService) {\r\n    this.urls = [];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.http\r\n      .get(\r\n        `https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-${this.day}-3&api_key=${this.sharedService.key}`\r\n      )\r\n      .subscribe((data) => {\r\n        let temp: string = JSON.stringify(data);\r\n        this.container = JSON.parse(temp);\r\n        console.log(this.container);\r\n      });\r\n  }\r\n\r\n  public nextImage() {\r\n    if (this.currentIndex < this.container.photos.length - 1) {\r\n      this.currentIndex++;\r\n    } else {\r\n      this.currentIndex = 0;\r\n    }\r\n  }\r\n\r\n  public lastImage() {\r\n    if (this.currentIndex > 0) {\r\n      this.currentIndex--;\r\n    } else {\r\n      this.currentIndex = this.container.photos.length - 1;\r\n    }\r\n  }\r\n}\r\n\r\ninterface RoverData {\r\n  camera: {\r\n    full_name: string;\r\n    id: number;\r\n    name: string;\r\n    rover_id: number;\r\n  };\r\n  earth_date: string;\r\n  id: number;\r\n  img_src: string;\r\n  rover: {\r\n    id: number;\r\n    landing_date: string;\r\n    launch_date: string;\r\n    name: string;\r\n    status: string;\r\n  };\r\n  sol: number;\r\n}\r\nexport class Container {\r\n  public photos: RoverData[];\r\n  constructor(nas: RoverData[]) {\r\n    this.photos = nas;\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"button-wrapper\">\r\n    <p class=\"text\">{{ container.photos[currentIndex].earth_date }}</p>\r\n    <img\r\n      [src]=\"container.photos[currentIndex].img_src\"\r\n      alt=\"My Image\"\r\n      id=\"photo\"\r\n    />\r\n    <button class=\"button button-left\" (click)=\"lastImage()\">предыдущие</button>\r\n    <button class=\"button button-right\" (click)=\"nextImage()\">следущие</button>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}